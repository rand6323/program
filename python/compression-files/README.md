# Python 圧縮スクリプト

このリポジトリは、Python を使用して `ZIP` および `7z` 形式の圧縮ファイルを作成するスクリプトを提供します。\
各スクリプトは、指定したディレクトリを圧縮し、オプションでパスワードを設定することができます。

## 内容
- `comp_zip.py` : ZIP 形式での圧縮を行うスクリプト
- `comp_7z.py`: 7z 形式での圧縮を行うスクリプト

## 依存関係
以下の Python ライブラリが必要です：

- `pyzipper`（ZIP 圧縮用）
- `py7zr`（7z 圧縮用）

これらは、以下のコマンドでインストールできます：

```bash
pip install pyzipper py7z
```
##  使用方法

### ZIP 圧縮（`comp_zip.py`）

```bash
python comp_zip.py [パスワード]
```

パスワード（オプション）：圧縮ファイルに設定するパスワード\
パスワードを設定しない場合、圧縮ファイルはパスワードなしで作成されます。

### 7z 圧縮（`comp_7z.py`）

```bash
python comp_7z.py [パスワード]
```

パスワード（オプション）：圧縮ファイルに設定するパスワード\
パスワードを設定しない場合、圧縮ファイルはパスワードなしで作成されます。

## ディレクトリ構成

```
compression-files/
├── work_dir/       # 圧縮する対象ファイルを入れるディレクトリ
├── output_dir/     # 出力用ディレクトリ
├── comp_7z.py      # 7z形式の圧縮スクリプト
├── comp_zip.py     # ZIP形式の圧縮スクリプト
├── LICENSE.txt
└── README.md
```

## パスワードの制限

パスワードには、以下の文字のみ使用できます：

- 英字（A～Z、a～z）
- 数字（0～9）
- 記号：
    - ! " # $ % & ' ( ) * + , - . / : ; < = > ? @ [ \ ] ^ _ { | } ~`

これらの文字以外を含むパスワードは、エラーとなります。

## 圧縮性能比較

#### 実測結果（約50MBのテキストファイル）

- **テストファイル**：`primenumber_100m.txt`（約49,902KB）\
    1憶までの素数を列挙した大容量テキストファイル

| 形式 | 圧縮後サイズ | 備考 |
|------|---------------|------|
| ZIP (DEFLATED, level6) | 約 14,038 KB（約28%） | 圧縮速度が速い |
| 7z (LZMA2, preset6)     | 約 5,772 KB（約11%）  | 圧縮率が非常に高いが処理に時間がかかる |

**補足説明**：  
一般的には、`7z` は `ZIP` よりも **高い圧縮率**を誇りますが、**処理時間やメモリ消費は増加**します。  
- 圧縮速度重視なら ZIP  
- 圧縮効率を重視するなら 7z  
という使い分けが実用的です。

## 注意事項

- パスワード付きの圧縮ファイルを解凍するには、対応する解凍ツールが必要です。

## ライセンス

本プロジェクトはMITライセンスの下で公開されています。詳細は`LICENSE.txt`をご覧ください。